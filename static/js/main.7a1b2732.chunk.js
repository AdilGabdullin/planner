(this.webpackJsonpplanner=this.webpackJsonpplanner||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r,i=n(4),a=n(34),o=n(24),c=n(17),s=n(23),f=n(39),d=n(21);!function(e){e[e.Seat=0]="Seat",e[e.LeftCorner=1]="LeftCorner",e[e.RightCorner=2]="RightCorner",e[e.Complex=3]="Complex"}(r||(r={}));var l={ppmArtboard:100,ppmSelector:40,width:8,height:6,gridStep:.2,padding:.37,furniture:[{file:"BS1.png",size:[.8,.8],type:r.Seat,code:"BS1-A",price:799,name:"(0.8x0.8m)",parts:[0]},{file:"BS2.png",size:[1.6,.8],type:r.Seat,code:"BS2-A",price:1329,name:"(1.6x0.8m)",parts:[1]},{file:"BS3.png",size:[2.4,.8],type:r.Seat,code:"BS3-A",price:1869,name:"(2.4x0.8m)",parts:[2]},{file:"BA1.png",size:[.93,.93],type:r.LeftCorner,code:"BA1-A",price:899,name:"(0.8x0.8m)",parts:[3]},{file:"BA2-L.png",size:[1.76,.93],type:r.LeftCorner,code:"BA2L-A",price:1269,name:"(1.6x0.8m)",parts:[4]},{file:"BA2-R.png",size:[1.76,.93],type:r.RightCorner,code:"BA2R-A",price:1269,name:"(1.6x0.8m)",parts:[5]},{file:"BS1+BA1.png",size:[.93,.93],type:r.Complex,code:"BS1+BA1",price:1698,name:"(0.8x0.8m)",parts:[0,3],offset:[-.1,-.11,0,0]},{file:"BS2+BA1.png",size:[1.7,.93],type:r.Complex,code:"BS2+BA1",price:2228,name:"(1.6x0.8m)",parts:[1,3],offset:[0,-.13,-.1,0]},{file:"BS2+BA2L.png",size:[1.76,.93],type:r.Complex,code:"BS2+BA2L",price:2598,name:"(1.6x0.8m)",parts:[1,4],offset:[-.05,-.13,-.11,0]},{file:"BS2+BA2R.png",size:[1.76,.93],type:r.Complex,code:"BS2+BA2R",price:2598,name:"(1.6x0.8m)",parts:[1,5],offset:[-.1,-.13,-.06,0]},{file:"BS2+BA1+BA1.png",size:[1.86,.93],type:r.Complex,code:"BS2+BA1+BA1",price:3127,name:"(1.6x0.8m)",parts:[1,3,3],offset:[-.12,-.11,-.14,-.02]},{file:"BS2+BS2+BA2L.png",size:[2.55,1.76],type:r.Complex,code:"BS2+BS2+BA2L",price:3927,name:"(2.4x1.6m)",parts:[1,1,4],offset:[.01,-.14,-.16,-.02]},{file:"BS2+BS2+BA2R.png",size:[2.55,1.76],type:r.Complex,code:"BS2+BS2+BA2R",price:3927,name:"(2.4x1.6m)",parts:[1,1,5],offset:[-.16,-.15,0,0]},{file:"BS3+BA1.png",size:[2.55,.93],type:r.Complex,code:"BS3+BA1",price:2768,name:"(2.4x0.8m)",parts:[2,3],offset:[-.14,-.12,0,0]},{file:"BS3+BA1+BA2R.png",size:[2.68,.93],type:r.Complex,code:"BS3+BA1+BA2R",price:4037,name:"(2.4x0.8m)",parts:[2,3,5],offset:[-.14,-.12,-.14,0]},{file:"BS3+BA1_flip.png",size:[2.55,.93],type:r.Complex,code:"BS3+BA1",price:2768,name:"(2.4x0.8m)",parts:[2,3],offset:[0,-.12,-.15,0]},{file:"BS3+BA2L.png",size:[2.55,.93],type:r.Complex,code:"BS3+BA2L",price:3138,name:"(2.4x0.8m)",parts:[2,4],offset:[0,-.12,-.15,0]},{file:"BS3+BA2R.png",size:[2.55,.93],type:r.Complex,code:"BS3+BA2R",price:3138,name:"(2.4x0.8m)",parts:[2,5],offset:[-.14,-.12,0,0]}]},p=function(e){return e*l.ppmArtboard},u=l.furniture.map((function(e){var t=e.size,n=e.file,r=e.offset,i=p(t[0]),a=p(t[1]),o=new Image;return o.width=i,o.height=a,o.src="/images/".concat(n),Object(d.a)(Object(d.a)({},e),{},{image:o,width:i,height:a,selectorWidth:t[0]*l.ppmSelector,selectorHeight:t[1]*l.ppmSelector,offset:(null!==r&&void 0!==r?r:[0,0,0,0]).map(p)})})),h=p(l.width),x=p(l.height),g=p(l.gridStep),b=p(l.padding),m=function(e){return Math.round((e-b)/g)*g+b},j={width:h,height:x,gridStep:g,padding:b,round:m},v=Object(f.b)({name:"artboard",initialState:{placement:[],drop:{id:0,visible:!1,type:r.Seat},stageRect:{x:0,y:0,width:0,height:0},magnets:[]},reducers:{place:function(e,t){var n=t.payload,r=n.id,i=n.x,a=n.y,o=n.rotation,s=u[r],f=s.offset,d=Object(c.a)(f,4),l=d[0],p=d[1],h=d[2],x=d[3];e.placement.push({id:r,x:i-l,y:a-p,rotation:null!==o&&void 0!==o?o:0,selected:!1,width:s.width+l+h,height:s.height+p+x,offset:f,type:s.type})},move:function(e,t){var n=e.placement,i=t.payload,a=i.selected,o=i.movementX,c=i.movementY,s=a.find((function(e){var t=n[e].type;return t===r.Seat||t===r.Complex}));if(void 0===s)return e;var f=n[s],d=f.x,l=f.y,p=m(d+o)-d,u=m(l+c)-l;a.forEach((function(e){var t=n[e];t.x+=p,t.y+=u}))},setSelected:function(e,t){for(var n=e.placement,r=t.payload,i=0;i<n.length;i++)n[i].selected=r.includes(i)},setStageRect:function(e,t){e.stageRect=t.payload},setDrop:function(e,t){var n=t.payload,r=n.id,i=n.visible;void 0!==r&&(e.drop.id=r,e.drop.type=u[r].type),void 0!==i&&(e.drop.visible=i)},addMagnets:function(e){e.placement.filter((function(e){return e.type===r.Seat})).forEach((function(t){var n=t.x,r=t.y,i=t.width,a=t.height;e.magnets.push({x:n,y:r,rotation:0},{x:n+i,y:r,rotation:90},{x:n+i,y:r+a,rotation:180},{x:n,y:r+a,rotation:270})}))},removeMagnets:function(e){e.magnets=[]}}}),y=v.actions,O=y.place,B=y.move,A=y.setSelected,S=y.setStageRect,R=y.setDrop,w=y.addMagnets,C=y.removeMagnets,M=function(e){return u},k=function(e){return j},z=function(e){return e.artboard.placement},L=function(e){return e.artboard.stageRect},E=function(e){return e.artboard.drop},D=function(e){return e.artboard.magnets},F=v.reducer,I=Object(f.a)({reducer:{artboard:F}}),T=function(){return Object(s.b)()},Q=s.c,X=n(25),Y=n(15),W=n(5);function G(){for(var e=Q(k),t=e.width,n=e.height,r=e.gridStep,i=e.padding,a=[],o=0,c="#cccccc",s=function(e){return Object(W.jsx)(Y.d,{stroke:c,x:e,y:i,points:[0,-1,0,n+1]},o)},f=function(e){return Object(W.jsx)(Y.d,{stroke:c,x:i,y:e,points:[-1,0,t+1,0]},o)},d=i;d<=t+i;o+=1,d+=r)a.push(s(d));for(var l=i;l<=n+i;o+=1,l+=r)a.push(f(l));c="#999999";for(var p=i;p<=t+i;o+=1,p+=5*r)a.push(s(p));for(var u=i;u<=n+i;o+=1,u+=5*r)a.push(f(u));return Object(W.jsx)(W.Fragment,{children:a})}var H=n(38);function J(e){var t=e.rectMode,n=Object(s.b)(),a=Q(k),o=a.padding,f=a.round,l=Q(M),p=Q(z),u=Q(L),h=Object(i.useState)({x:0,y:0}),x=Object(c.a)(h,2),g=x[0],b=x[1],m=p.filter((function(e){return e.selected})),j=function(e,t){var n,i=1/0,a=1/0,o=-1/0,c=-1/0,s=function(e){return e.type===r.Seat||e.type===r.Complex},f=Object(H.a)(e.filter(s));try{for(f.s();!(n=f.n()).done;){var d=n.value,l=d.x,p=d.y,u=d.width,h=d.height;l<i&&(i=l),p<a&&(a=p),l+u>o&&(o=l+u),p+h>c&&(c=p+h)}}catch(b){f.e(b)}finally{f.f()}var x=t(i),g=t(a);return{x:x,y:g,width:t(o)-x,height:t(c)-g,visible:e.length>0}}(m,f),v=j.width,y=j.height,O=[u.x+o-j.x,u.x+u.width-v-o-j.x],S=[o-j.y,u.height-y-o-j.y],R=function(e){return function(r){t||n(A([e]))}};return Object(W.jsxs)(W.Fragment,{children:[p.map((function(e,n){var r=e.id,i=e.x,a=e.y,o=e.rotation;if(e.selected&&!t)return null;var c=l[r].offset;return Object(W.jsx)(Y.b,{key:n,x:i+c[0],y:a+c[1],rotation:o,image:l[r].image,onMouseEnter:R(n)})})),m.length>0&&!t&&Object(W.jsxs)(Y.a,{draggable:!0,onDragStart:function(e){var t=e.target.getClientRect(),n=t.x,r=t.y;b({x:n,y:r})},onDragEnd:function(e){var t=[];p.forEach((function(e,n){e.selected&&t.push(n)}));var r=e.target.getClientRect(),i=r.x,a=r.y;n(B({selected:t,movementX:i-g.x,movementY:a-g.y})),n(A([])),n(A(t))},dragBoundFunc:function(e){return{x:P(e.x,O),y:P(e.y,S)}},children:[m.map((function(e,t){var n=e.id,r=e.x,i=e.y,a=e.rotation,o=l[n].offset;return Object(W.jsx)(Y.b,{key:t,x:r+o[0],y:i+o[1],rotation:a,image:l[n].image})})),j.visible&&Object(W.jsx)(Y.e,Object(d.a)(Object(d.a)({},j),{},{stroke:"black"}))]})]})}function P(e,t){var n=Object(c.a)(t,2),r=n[0],i=n[1];return e<r?r:e>i?i:e}function U(e){var t=e.dropRef,n=Q(E),r=n.id,a=n.visible,o=Q(M),c=Q(D);if(!a)return null;var s=o[r].image;return Object(W.jsxs)(W.Fragment,{children:[c.map((function(e,t){return Object(i.createElement)(Y.d,Object(d.a)(Object(d.a)(Object(d.a)({},q),e),{},{key:t}))})),Object(W.jsx)(Y.b,{ref:t,y:-200,image:s})]})}var _=36,q={points:[0,0,_,0,_,18,18,18,18,_,0,_],fill:"#00FF00",opacity:.5,strokeWidth:0,closed:!0};function K(){var e=Q(E),t=Q(k),n=t.width,r=t.height,i=t.padding;return e.visible?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Y.d,{x:i,y:i,stroke:"black",points:[0,-1,0,r+1]}),Object(W.jsx)(Y.d,{x:i,y:i,stroke:"black",points:[-1,0,n,0]}),Object(W.jsx)(Y.d,{x:i,y:i+r,stroke:"black",points:[-1,0,n,0]}),Object(W.jsx)(Y.d,{x:i+n,y:i,stroke:"black",points:[0,-1,0,r+1]})]}):null}var N,V=n(1),Z=n(28),$=n(32);function ee(e){var t=e.dropRef,n=T(),r=Object(i.useRef)(null),a=Q(z),o={x1:0,y1:0,x2:0,y2:0,rectMode:!1},f=Object(i.useState)(o),l=Object(c.a)(f,2),p=l[0],u=p.x1,h=p.y1,x=p.x2,g=p.y2,b=p.rectMode,m=l[1],j={x:Math.min(u,x),y:Math.min(h,g),width:Math.abs(x-u),height:Math.abs(g-h)},v=Q(k),y=v.width,O=v.height,B=v.padding;return Object(W.jsx)(Y.f,{onMouseDown:function(e){var t=e.target;if(t instanceof $.a||t instanceof Z.a){var r=te(e),i=r.x,a=r.y;m({x1:i,y1:a,x2:i,y2:a,rectMode:!0}),n(A([]))}},onMouseMove:function(e){if(b){var t=te(e),n=t.x,r=t.y;m({x1:u,y1:h,x2:n,y2:r,rectMode:!0})}},onMouseUp:function(e){if(b){var t=[];a.forEach((function(e,n){V.b.haveIntersection(j,e)&&t.push(n)})),n(A(t)),m(o)}},width:y+2*B,height:O+2*B,children:Object(W.jsx)(s.a,{store:Object(s.d)(),children:Object(W.jsxs)(Y.c,{children:[Object(W.jsx)(G,{}),Object(W.jsx)(K,{}),Object(W.jsx)(J,{rectMode:b}),Object(W.jsx)(U,{dropRef:t}),Object(W.jsx)(Y.e,Object(d.a)(Object(d.a)({},j),{},{ref:r,fill:"rgba(0,0,255,0.5)",visible:b}))]})})})}function te(e){var t=e.evt,n=t.clientX,r=t.clientY,i=e.currentTarget.attrs.container.getBoundingClientRect();return{x:n-i.x,y:r-i.y}}function ne(){var e=T(),t=Q(k),n=t.round,a=t.padding,o=Object(i.useRef)(null),s=Q(L),f=Q(E),d=Q(M),l=Object(i.useRef)(null),p=Q(D),u=function(t){f.visible!==t&&e(R({visible:t}))};Object(i.useEffect)((function(){if(null!==o.current){var t=o.current.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,a=t.height;s.x===n&&s.width===i||e(S({x:n,y:r,width:i,height:a}))}}));return Object(W.jsx)(ue,{ref:o,onDragOver:function(e){e.preventDefault();var t=l.current,i=e.target;if(null!==t&&i instanceof Element){var o=i.getBoundingClientRect(),s=o.x,h=o.y,x=o.width,g=o.height,b=e.clientX-s,m=e.clientY-h,j=d[f.id].width,v=d[f.id].height,y=f.type;if(y!==r.Seat&&y!==r.Complex){var O=function(e,t,n){var r=n.map((function(n){var r=e-n.x,i=t-n.y;return r*r+i*i})),i=r.reduce((function(e,t,n){return r[e]>t?n:e}),0);return n[i]}(b,m,p);if(y!==r.LeftCorner)if(y!==r.RightCorner);else{var B=O.x,A=O.y,S=O.rotation;t.setAttrs({x:B+12*ae(S-135)*Math.SQRT2+oe(-S)*j,y:A+12*oe(S-135)*Math.SQRT2+ae(-S)*j,rotation:S-90})}else{var R=O.x,w=O.y,C=O.rotation;t.setAttrs({x:R+12*ae(C-135)*Math.SQRT2,y:w+12*oe(C-135)*Math.SQRT2,rotation:C})}}else{var M=d[f.id].offset,k=Object(c.a)(M,4),z=k[0],L=k[1],E=k[2],D=k[3];t.setAttrs({x:n(re(b,[a,x-a-j-z-E]))+z,y:n(re(m,[a,g-a-v-L-D]))+L})}}else u(!0)},onDrop:function(t){t.preventDefault();var n=l.current;if(null!==n){var r=n.attrs,i=r.x,a=r.y,o=r.rotation;e(O({id:f.id,x:i,y:a,rotation:o}))}},onDragLeave:function(e){u(!1)},children:Object(W.jsx)(ee,{dropRef:l})})}function re(e,t){var n=Object(c.a)(t,2),r=n[0],i=n[1];return e<r?r:e>i?i:e}var ie=Math.PI/180;function ae(e){return Math.cos(e*ie)}function oe(e){return Math.sin(e*ie)}var ce,se,fe,de,le,pe,ue=X.a.div(N||(N=Object(o.a)(["\n    display: table;\n"])));function he(){var e=Object(i.useState)({shift:0,chevrons:[!1,!0]}),t=Object(c.a)(e,2),n=t[0],a=t[1],o=143,s=Q(M),f=Object(i.useRef)(null),d=o*s.length,l=T(),p=function(e){if(null!==f.current){var t=f.current.getBoundingClientRect().width,r=Math.floor(t/o),i=r*o-d,c=n.shift+r*o*e;c>0&&(c=0),c<i&&(c=i),a({shift:c,chevrons:[0!==c,c!==i]})}},u=function(e){var t=e.target;if(t instanceof Element){var n=t.getAttribute("data-furniture-id");if(null!==n){!function(e){e.dataTransfer.setDragImage(xe,0,0)}(e),l(R({id:+n})),l(A([]));var i=s[+n].type;i!==r.LeftCorner&&i!==r.RightCorner||l(w())}}},h=function(e){l(R({visible:!1})),l(C())};return Object(W.jsxs)(ge,{children:[Object(W.jsx)(be,{visible:n.chevrons[0],children:Object(W.jsx)("img",{src:"/images/icons/arrow.svg",alt:"left",onClick:function(){return p(1)}})}),Object(W.jsx)(je,{ref:f,children:Object(W.jsx)(ve,{width:d,shift:n.shift,children:s.map((function(e,t){var n=e.file,r=e.name,i=e.code,a=e.price,o=e.selectorWidth;return Object(W.jsxs)(ye,{draggable:"true",onDragStart:u,onDragEnd:h,"data-furniture-id":t,children:[Object(W.jsx)("img",{src:"/images/".concat(n),alt:r,width:o,"data-furniture-id":t}),Object(W.jsxs)("figcaption",{children:[r," ",Object(W.jsx)("br",{})," ",i," ",Object(W.jsx)("br",{})," ",a," EUR"," "]})]},t)}))})}),Object(W.jsx)(me,{visible:n.chevrons[1],children:Object(W.jsx)("img",{src:"/images/icons/arrow.svg",alt:"right",onClick:function(){return p(-1)}})})]})}var xe=new Image;xe.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var ge=X.a.div(ce||(ce=Object(o.a)(["\n    display: flex;\n"]))),be=X.a.div(se||(se=Object(o.a)(["\n    transform: rotate(180deg);\n    align-self: center;\n    opacity: ",";\n"])),(function(e){return e.visible?1:0})),me=Object(X.a)(be)(fe||(fe=Object(o.a)(["\n    transform: none;\n"]))),je=X.a.div(de||(de=Object(o.a)(["\n    margin: 0 5px;\n    overflow: hidden;\n"]))),ve=X.a.div(le||(le=Object(o.a)(["\n    transition: transform 1s;\n    margin: 20px -15px;\n    width: ","px;\n    transform: translateX(","px);\n"])),(function(e){return e.width}),(function(e){return e.shift})),ye=X.a.figure(pe||(pe=Object(o.a)(["\n    display: block;\n    position: relative;\n    width: 113px;\n    height: 141px;\n    float: left;\n    margin: 0 15px;\n    text-align: center;\n    background-color: #f7f7f7;\n    text-align: left;\n    figcaption {\n        position: absolute;\n        font: 12px AtlasGrotesk-Regular;\n        left: 2px;\n        bottom: 3px;\n    }\n"])));function Oe(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(he,{}),Object(W.jsx)(ne,{})]})}n(62);a.render(Object(W.jsx)(i.StrictMode,{children:Object(W.jsx)(s.a,{store:I,children:Object(W.jsx)(Oe,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.7a1b2732.chunk.js.map